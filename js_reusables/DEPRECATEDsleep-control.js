/* sleep-control.js */
/* Created during the development of https://speakworldlanguages.app */
/* This software is LICENSED under [Good People's License Modification Allowed], which means you can copy and use it for free and may modify it and distribute it too if you are a good person as described in the license. */

// You can extend the dim-and-turn-off time for your app by adjusting the number below BUT!
// BE RESPONSIBLE! Mobile devices dim the screen for good reason which is to save precious battery time.
var stayAwakeAtLeastThisLong = 99000; // in milliseconds // Most devices will add 30s or 60s before turning off the screen

const dummyVideoToPreventSleepTimeoutScreenTurnOff = document.createElement("VIDEO");
dummyVideoToPreventSleepTimeoutScreenTurnOff.setAttribute("loop", ""); // Otherwise the screen will still turn off after 1 single play (about 10 seconds).
dummyVideoToPreventSleepTimeoutScreenTurnOff.loop = true;
dummyVideoToPreventSleepTimeoutScreenTurnOff.setAttribute("muted", "");
dummyVideoToPreventSleepTimeoutScreenTurnOff.muted = true;
dummyVideoToPreventSleepTimeoutScreenTurnOff.setAttribute("autoplay", ""); // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video
dummyVideoToPreventSleepTimeoutScreenTurnOff.autoplay = true;
dummyVideoToPreventSleepTimeoutScreenTurnOff.setAttribute("playsinline", ""); // https://css-tricks.com/what-does-playsinline-mean-in-web-video/
dummyVideoToPreventSleepTimeoutScreenTurnOff.playsinline = true;

let letItSleepTimeout;
function resetSleepCountdown(event) { // Call this whenever and wherever necessary to restart the timer; remember that it can be called without an event too, like resetSleepCountdown();

  if (event) { // Check if the function was called due to a touch or mouse event
    event.preventDefault(); // Prevent context menu if a "long touch" happens
    // Must not use event.stopPropagation(); i.e. must allow the event to bubble and reach the document.body
  } else {
    // Function was called without an event being passed as the parameter i.e it was not a touchstart, touchend or mousedown, mouseup that made it fire
    // You can use document visibilitychange to detect if user navigates away from the app and if has come back
    // And call resetSleepCountdown() accordingly
  }

  playIfWasPaused();
  clearTimeout(letItSleepTimeout);
  letItSleepTimeout = setTimeout(function () { dummyVideoToPreventSleepTimeoutScreenTurnOff.pause(); }, stayAwakeAtLeastThisLong); // Screen will turn off after about this much time
}
function playIfWasPaused() {
  if (dummyVideoToPreventSleepTimeoutScreenTurnOff.paused) { dummyVideoToPreventSleepTimeoutScreenTurnOff.play(); }
}

window.addEventListener("load",function() {
  var checkIfDevice=function(){var b=navigator.userAgent.toLowerCase(),a=function(a){void 0!==a&&(b=a.toLowerCase());return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(b)?"tablet":/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(b)?"phone":"desktop"};return{device:a(),detect:a,isMobile:"desktop"!=a()?!0:!1,userAgent:b}}();

  if (checkIfDevice.isMobile) { // Make it work only on phones and tablets
    /* Code for "not letting the screen turn off" on mobiles (i.e. prevent the battery-saving-sleep-mode) */
    letItSleepTimeout = setTimeout(function () { dummyVideoToPreventSleepTimeoutScreenTurnOff.pause(); }, stayAwakeAtLeastThisLong); // Screen will turn off after about this much time
    document.body.addEventListener("touchstart",resetSleepCountdown);
    // We definitely don't want to get that [play() failed because the user didn't interact with the document first] error...
    // ...so in case the browser insists on not playing the video without a user gesture of at least one touchend
    document.body.addEventListener("touchend",playIfWasPaused,{once:true});
    // If the document contains an iFrame then "touch events" on that must be listened separately because that is a different window whose events won't bubble up to the parent window
    const theFrameThatMightExist = document.getElementsByTagName('iframe')[0]; // Assuming there won't be more than one iframe
    if (theFrameThatMightExist) {
      const frameWindow = theFrameThatMightExist.contentWindow || theFrameThatMightExist.contentDocument;
      frameWindow.document.body.addEventListener("touchstart",resetSleepCountdown);
      theFrameThatMightExist.addEventListener("load",function () {
        frameWindow.document.body.addEventListener("touchstart",resetSleepCountdown); // Restart the event listener because it dies when frame src is changed
      });
    }

    // Note that if an element has stopPropagation for touchstart it must then call resetSleepCountdown() to restart the timer

    document.body.appendChild(dummyVideoToPreventSleepTimeoutScreenTurnOff);

    dummyVideoToPreventSleepTimeoutScreenTurnOff.style.position="fixed"; // Eliminate possibility of body overflow
    dummyVideoToPreventSleepTimeoutScreenTurnOff.style.top="0px";
    dummyVideoToPreventSleepTimeoutScreenTurnOff.style.left="0px";
    dummyVideoToPreventSleepTimeoutScreenTurnOff.style.pointerEvents="none"; // Do not block clicks and touches i.e. be invisible to all interactions
    dummyVideoToPreventSleepTimeoutScreenTurnOff.style.opacity="0"; // Invisible. You can set opacity to 1 (and maybe assign a style.zIndex value too) to see the color-test video

    dummyVideoToPreventSleepTimeoutScreenTurnOff.src="data:video/mp4;base64,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8AAAAApBmgYMYCDW3/7wAAAACkGaCBBgINbf/vAAAAAKQZoKFGAg1t/+8AAAAApBmgwYYCDW3/7wAAAACkGaDhxgINbf/vAAAAAKQZoQIGAg1t/+8AAAAApBmhIkYCDW3/7wAAAACkGaFChgINbf/vAAAAAKQZoWLGAg1t/+8AAAAApBmhgwYCDW3/7wAAAACkGaGjRgINbf/vAAAAAKQZocOGAg1t/+8AAAAApBmh48YCDW3/7wAAAACkGaIEBgINbf/vAAAAAKQZoiRGAg1t/+8AAAAApBmiRIYCDW3/7wAAAACkGaJkxgINbf/vAAAACvQZooUGAg1t/+8P//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95BmipUYCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPeQZosWGAg1t/+8P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD3kGaLlxgINbf/vD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95BmjBgYCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPeQZoyZGAg1t/+8P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD3kGaNGhgINbf/vD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95BmjZsYCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPeQZo4cGAg1t/+8P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD3kGaOnRgINbf/vD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95Bmjx4YCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPeQZo+fGAg1t/+8P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD3kGaQIBgINbf/vD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95BmkKEYCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPfQZpEiGAg1t/+8P//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95BmkaMYCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPeQZpIkGAg1t/+8P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD30GaSpRgINbf/vD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPeQZpMmGAg1t/+8P////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD3kGaTpxgINbf/vD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA99BmlCgYCDW3/7w//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+AAAAD3kGaUqRgINbf/vD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAA95BmlSoYCDW3/7w/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4AAAAPfQZpWrGAg1t/+8P//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////gAAAAAFBmliwYCDW3/7w";

  } else {
    // Nothing to do since desktop screen is always on
  }
}, { once: true });
